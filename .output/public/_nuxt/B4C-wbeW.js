import{n as P,r as x,q as I,x as S,o as r,c as i,a as e,C as N,D as T,y as c,E as j,F as f,z as p,A as y,t as s,b as z,G as L,v as _,d as u,H as B}from"./Dlsq2Qc-.js";import{s as H}from"./AY3_v10l.js";import{u as M}from"./BGpanqwr.js";const V={class:"grow-[0] h-full flex divide-x overflow-hidden"},A={class:"flex flex-col shrink-0 w-60 h-full"},D={class:"shrink-0 p-2 border-b"},E={class:"grow-[0] h-full overflow-y-scroll scrollbar-hide"},F=["onClick"],K={class:"flex text-xs"},G={class:"w-72"},O={class:"flex flex-col grow-[0] overflow-hidden h-full w-full"},U={key:0,class:"shrink-0 flex flex-col divide-y border-b"},W={class:"px-4 py-2 font-bold"},q={class:"flex divide-x"},J={class:"text-xs px-4 py-2 flex flex-col gap-2 items-center"},$={class:"font-bold pr-2"},Q={class:"flex gap-2"},R=e("div",{class:"text-neutral-400"},"현재가",-1),X=e("div",{class:"text-neutral-400"},"고가",-1),Y=e("div",{class:"text-neutral-400"},"저가",-1),Z=e("div",{class:"text-neutral-400"},"변동",-1),ee=e("div",{class:"text-neutral-400"},"변동%",-1),te=e("div",{class:"text-neutral-400"},"시간",-1),se={class:"grow-[0] overflow-hidden h-full"},re=P({__name:"stock",setup(ae){const b=x();I(()=>{g(),b.value=H(g,1001*60*10)});const g=()=>{fetch("/api/investing/indices").then(l=>l.json()).then(l=>{n.value=l,C()})},h=x(""),n=x({}),k=S(()=>{const l={};return n.value!==void 0&&n.value!==null&&typeof n.value=="object"&&Object.keys(n.value).forEach(o=>{const d=n.value[o].filter(t=>o.toLowerCase().includes(h.value.toLowerCase()));d.length>0&&(l[o]=d)}),l}),a=M("selectedCountry"),w=({name:l,indiceList:o})=>{const d={Israel:"il",Brazil:"br",France:"fr",Hong:"hk",Belgium:"be",Finland:"fi",Italy:"it",Sweden:"se",Singapore:"sg",Netherlands:"nl",Switzerland:"ch",Chile:"cl",Canada:"ca",Germany:"de",Ireland:"ie",Norway:"no",Denmark:"dk",Portugal:"pt",Spain:"es",United:"uk",Colombia:"co",Czech:"cz",Greece:"gr",Egypt:"eg",Hungary:"hu",India:"in",Indonesia:"id",Korea:"kr",Malaysia:"my",Mexico:"mx",Peru:"pe",Philippines:"ph",Poland:"pl",Thailand:"th",Turkey:"tr",Argentina:"ar",Jordan:"jo",Morocco:"ma",Oman:"om",Pakistan:"pk",Qatar:"qa",Sri:"lk",Australia:"au",China:"cn",Japan:"jp",US:"us",Austria:"at",Cyprus:"cy",Taiwan:"tw"};a.value={name:l,indiceList:o},B(`/stock/${d[l]}`)},C=()=>{a.value!=null?a.value={name:a.value.name,indiceList:n.value[a.value.name]}:a.value={name:"Korea",indiceList:n.value.Korea}};return(l,o)=>{const d=L;return r(),i("div",V,[e("div",A,[e("div",D,[N(e("input",{class:"px-4 py-2 w-full focus:outline-none border rounded",type:"text",placeholder:"search","onUpdate:modelValue":o[0]||(o[0]=t=>j(h)?h.value=t:null)},null,512),[[T,c(h)]])]),e("div",E,[c(n)?(r(!0),i(f,{key:0},p(Object.entries(c(k)),([t,m])=>(r(),i("div",{class:_(["px-4 py-2 mx-2 my-1 rounded cursor-pointer",c(a).name===t?"bg-black text-white hover:bg-neutral-800":"hover:bg-neutral-100"]),onClick:v=>w({name:t,indiceList:m})},[u(s(t=="Hong"?"Hong Kong":t)+" ",1),(r(!0),i(f,null,p(m,v=>(r(),i("div",K,[e("div",G,s(v.index),1),e("div",{class:_(v.changePercent.startsWith("+")?"text-red-500":"text-blue-500")},s(v.changePercent),3)]))),256))],10,F))),256)):y("",!0)])]),e("div",O,[c(a)?(r(),i("div",U,[e("div",W,s(c(a).name),1),e("div",q,[(r(!0),i(f,null,p(c(a).indiceList,t=>(r(),i("div",J,[e("div",$,s(t.index),1),e("div",Q,[e("div",null,[R,u(" "+s(t.currentPrice),1)]),e("div",null,[X,u(" "+s(t.highPrice),1)]),e("div",null,[Y,u(" "+s(t.lowPrice),1)]),e("div",null,[Z,e("div",{class:_(t.change.startsWith("+")?"text-red-500":"text-blue-500")},s(t.change),3)]),e("div",null,[ee,e("div",{class:_(t.change.startsWith("+")?"text-red-500":"text-blue-500")},s(t.changePercent),3)]),e("div",null,[te,u(" "+s(t.time),1)])])]))),256))])])):y("",!0),e("div",se,[z(d)])])])}}});export{re as default};
