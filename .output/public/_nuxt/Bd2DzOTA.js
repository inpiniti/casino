import{n as P,r as x,q as I,x as S,o as r,c as i,a as e,C as N,D as T,y as c,E as j,F as p,z as f,A as b,t as s,b as z,G as L,v as _,d as u,H as B}from"./Em_gQpbE.js";import{s as H}from"./keTGQZGh.js";import{u as M}from"./CykKGi6V.js";const V={class:"grow-[0] h-full flex divide-x overflow-hidden"},A={class:"shrink-0 w-60 h-full overflow-y-scroll scrollbar-hide"},D=["onClick"],E={class:"flex text-xs"},F={class:"w-72"},K={class:"flex flex-col grow-[0] h-full w-full bg-neutral-50"},G={key:0,class:"shrink-0 flex flex-col divide-y bg-white border-b"},O={class:"px-4 py-2 font-bold"},U={class:"flex divide-x"},W={class:"text-xs px-4 py-2 flex flex-col gap-2 items-center"},q={class:"font-bold pr-2"},J={class:"flex gap-2"},$=e("div",{class:"text-neutral-400"},"현재가",-1),Q=e("div",{class:"text-neutral-400"},"고가",-1),R=e("div",{class:"text-neutral-400"},"저가",-1),X=e("div",{class:"text-neutral-400"},"변동",-1),Y=e("div",{class:"text-neutral-400"},"변동%",-1),Z=e("div",{class:"text-neutral-400"},"시간",-1),ee={class:"grow-[0] h-full overflow-y-scroll scrollbar-hide"},oe=P({__name:"stock",setup(te){const y=x();I(()=>{g(),y.value=H(g,1001*60*10)});const g=()=>{fetch("/api/investing/indices").then(l=>l.json()).then(l=>{o.value=l,C()})},v=x(""),o=x({}),k=S(()=>{const l={};return o.value!==void 0&&o.value!==null&&typeof o.value=="object"&&Object.keys(o.value).forEach(n=>{const d=o.value[n].filter(t=>n.toLowerCase().includes(v.value.toLowerCase()));d.length>0&&(l[n]=d)}),l}),a=M("selectedCountry"),w=({name:l,indiceList:n})=>{const d={Israel:"il",Brazil:"br",France:"fr",Hong:"hk",Belgium:"be",Finland:"fi",Italy:"it",Sweden:"se",Singapore:"sg",Netherlands:"nl",Switzerland:"ch",Chile:"cl",Canada:"ca",Germany:"de",Ireland:"ie",Norway:"no",Denmark:"dk",Portugal:"pt",Spain:"es",United:"uk",Colombia:"co",Czech:"cz",Greece:"gr",Egypt:"eg",Hungary:"hu",India:"in",Indonesia:"id",Korea:"kr",Malaysia:"my",Mexico:"mx",Peru:"pe",Philippines:"ph",Poland:"pl",Thailand:"th",Turkey:"tr",Argentina:"ar",Jordan:"jo",Morocco:"ma",Oman:"om",Pakistan:"pk",Qatar:"qa",Sri:"lk",Australia:"au",China:"cn",Japan:"jp",US:"us",Austria:"at",Cyprus:"cy",Taiwan:"tw"};a.value={name:l,indiceList:n},B(`/stock/${d[l]}`)},C=()=>{a.value!=null?a.value={name:a.value.name,indiceList:o.value[a.value.name]}:a.value={name:"Korea",indiceList:o.value.Korea}};return(l,n)=>{const d=L;return r(),i("div",V,[e("div",A,[e("div",null,[N(e("input",{class:"px-4 py-2 bg-neutral-100 w-full focus:outline-none",type:"text",placeholder:"search","onUpdate:modelValue":n[0]||(n[0]=t=>j(v)?v.value=t:null)},null,512),[[T,c(v)]])]),c(o)?(r(!0),i(p,{key:0},f(Object.entries(c(k)),([t,m])=>(r(),i("div",{class:_(["px-4 py-2 border-b border-l-4 hover:bg-blue-50 hover:border-l-blue-500 cursor-pointer",{"bg-blue-50  border-l-blue-500":c(a)===t}]),onClick:h=>w({name:t,indiceList:m})},[u(s(t=="Hong"?"Hong Kong":t)+" ",1),(r(!0),i(p,null,f(m,h=>(r(),i("div",E,[e("div",F,s(h.index),1),e("div",{class:_(h.changePercent.startsWith("+")?"text-red-500":"text-blue-500")},s(h.changePercent),3)]))),256))],10,D))),256)):b("",!0)]),e("div",K,[c(a)?(r(),i("div",G,[e("div",O,s(c(a).name),1),e("div",U,[(r(!0),i(p,null,f(c(a).indiceList,t=>(r(),i("div",W,[e("div",q,s(t.index),1),e("div",J,[e("div",null,[$,u(" "+s(t.currentPrice),1)]),e("div",null,[Q,u(" "+s(t.highPrice),1)]),e("div",null,[R,u(" "+s(t.lowPrice),1)]),e("div",null,[X,e("div",{class:_(t.change.startsWith("+")?"text-red-500":"text-blue-500")},s(t.change),3)]),e("div",null,[Y,e("div",{class:_(t.change.startsWith("+")?"text-red-500":"text-blue-500")},s(t.changePercent),3)]),e("div",null,[Z,u(" "+s(t.time),1)])])]))),256))])])):b("",!0),e("div",ee,[z(d)])])])}}});export{oe as default};
