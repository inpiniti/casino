import{c as g,s as R}from"./DGQ6wNWV.js";import{n as b,o as p,c as h,a as s,B as T,s as u,v as m,t as c,C as H,r as y,z as L,D as A,u as z,E as W,b as t,w as l,F as M,d,x as E,q as F}from"./B4mffjkz.js";import{u as Y}from"./C1Mrrx-X.js";const j={class:"relative w-full overflow-auto"},q=b({__name:"Table",props:{class:{}},setup(i){const a=i;return(r,v)=>(p(),h("div",j,[s("table",{class:u(m(g)("w-full caption-bottom text-sm",a.class))},[T(r.$slots,"default")],2)]))}}),U=b({__name:"TableBody",props:{class:{}},setup(i){const a=i;return(r,v)=>(p(),h("tbody",{class:u(m(g)("[&_tr:last-child]:border-0",a.class))},[T(r.$slots,"default")],2))}}),G=b({__name:"TableCell",props:{class:{}},setup(i){const a=i;return(r,v)=>(p(),h("td",{class:u(m(g)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a.class))},[T(r.$slots,"default")],2))}}),J=b({__name:"TableHead",props:{class:{}},setup(i){const a=i;return(r,v)=>(p(),h("th",{class:u(m(g)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a.class))},[T(r.$slots,"default")],2))}}),K=b({__name:"TableHeader",props:{class:{}},setup(i){const a=i;return(r,v)=>(p(),h("thead",{class:u(m(g)("[&_tr]:border-b",a.class))},[T(r.$slots,"default")],2))}}),O=b({__name:"TableRow",props:{class:{}},setup(i){const a=i;return(r,v)=>(p(),h("tr",{class:u(m(g)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a.class))},[T(r.$slots,"default")],2))}}),Q=b({__name:"technicalTextColor",props:{technicalText:{}},setup(i){return(a,r)=>(p(),h("span",{class:u({"text-red-500":a.technicalText==="strong_buy","text-yellow-500":a.technicalText==="buy","text-gray-500":a.technicalText==="neutral","text-blue-500":a.technicalText==="sell","text-green-500":a.technicalText==="strong_sell"})},c(a.technicalText),3))}}),X={class:"h-1 bg-neutral-200 border-b"},Z={class:"text-xs text-neutral-400"},k={class:"text-xs text-neutral-400"},ee={class:"text-xs text-neutral-400"},te={class:"text-xs text-neutral-400"},se=b({__name:"[code]",setup(i){const a=H(),r=Y("stockList",()=>[]),v=y(),w=y(),P=y(0);L(()=>{S(),v.value=R(S,1e3*60*1),w.value=R(()=>{P.value+=1/60*100},1e3)}),A(()=>{clearInterval(v.value),clearInterval(w.value)});const S=()=>{fetch(`/api/investing/${a.params.code}`).then(n=>n.json()).then(n=>{(n==null?void 0:n.data)!=null?r.value=n.data:r.value=[]}).catch(n=>{console.error(n)}).finally(()=>{P.value=0})},B=z(()=>r.value.map(n=>({...n,volumeRate:Math.round(n.Volume/n.AvgVolume*100*10)/10})).sort((n,o)=>_.value==="Name"?n.Name.localeCompare(o.Name):_.value==="volumeRate"?o.volumeRate-n.volumeRate:_.value==="Chg"?o.Chg-n.Chg:_.value==="ChgPct"?o.ChgPct-n.ChgPct:0).slice(0,100)),_=y("Name");function I(n){const o=Math.floor((new Date().getTime()-n*1e3)/1e3),f=Math.floor(o/3600),C=Math.floor(o%3600/60),N=o%60;return`${f.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")} 전`}return(n,o)=>{const f=J,C=O,N=K,x=G,$=Q,V=U,D=q;return p(),h(M,null,[s("div",X,[s("div",{class:"bg-red-500 h-1",style:W({width:`${m(P)}%`})},null,4)]),t(D,null,{default:l(()=>[t(N,null,{default:l(()=>[t(C,null,{default:l(()=>[t(f,null,{default:l(()=>[d("나라")]),_:1}),t(f,{onClick:o[0]||(o[0]=e=>_.value="Name"),class:u(["text-blue-500 cursor-pointer font-bold",{"text-red-500":m(_)=="Name"}])},{default:l(()=>[d(" 이름 ")]),_:1},8,["class"]),t(f,{onClick:o[1]||(o[1]=e=>_.value="volumeRate"),class:u(["text-blue-500 cursor-pointer font-bold",{"text-red-500":m(_)=="volumeRate"}])},{default:l(()=>[d("거래량 / 평균 거래량 (거래량률)")]),_:1},8,["class"]),t(f,{onClick:o[2]||(o[2]=e=>_.value="Chg"),class:u(["text-blue-500 cursor-pointer font-bold",{"text-red-500":m(_)=="Chg"}])},{default:l(()=>[d("변동치")]),_:1},8,["class"]),t(f,{onClick:o[3]||(o[3]=e=>_.value="ChgPct"),class:u(["text-blue-500 cursor-pointer font-bold",{"text-red-500":m(_)=="ChgPct"}])},{default:l(()=>[d(" 변동률 (%) ")]),_:1},8,["class"]),t(f,{class:"font-bold"},{default:l(()=>[d(" 가격 (최저,마지막,최고) ")]),_:1}),t(f,{class:"font-bold"},{default:l(()=>[d(" 성과 (일일,주간,월간,연간) ")]),_:1}),t(f,{class:"font-bold"},{default:l(()=>[d(" 분석 (시간당,일일,주간,월간) ")]),_:1})]),_:1})]),_:1}),t(V,null,{default:l(()=>[(p(!0),h(M,null,E(m(B),e=>(p(),F(C,{key:e.Name},{default:l(()=>[t(x,null,{default:l(()=>[d(c(e.CountryNameTranslated),1)]),_:2},1024),t(x,{class:"font-bold"},{default:l(()=>[s("div",null,c(e.Name),1),s("div",null,"("+c(I(Number(e.Time)))+")",1)]),_:2},1024),t(x,null,{default:l(()=>[s("div",Z,c(e.Volume),1),s("div",k,"/ "+c(e.AvgVolume),1),s("div",null,c(e.volumeRate)+"%",1)]),_:2},1024),t(x,null,{default:l(()=>[d(c(e.Chg),1)]),_:2},1024),t(x,null,{default:l(()=>[d(c(e.ChgPct),1)]),_:2},1024),t(x,null,{default:l(()=>[s("div",ee,c(e.Low)+" ~",1),s("div",null,c(e.Last)+" ~",1),s("div",te,c(e.High),1)]),_:2},1024),t(x,null,{default:l(()=>[s("div",{class:u(e.PerformanceDay>0?"text-red-500":"text-blue-500")},c(e.PerformanceDay)+" / ",3),s("div",{class:u(e.PerformanceWeek>0?"text-red-500":"text-blue-500")},c(e.PerformanceWeek)+" / ",3),s("div",{class:u(e.PerformanceMonth>0?"text-red-500":"text-blue-500")},c(e.PerformanceMonth)+" / ",3),s("div",{class:u(e.PerformanceYear>0?"text-red-500":"text-blue-500")},c(e.PerformanceYear),3)]),_:2},1024),t(x,null,{default:l(()=>[s("div",null,[t($,{technicalText:e.TechnicalHour},null,8,["technicalText"]),d(" / ")]),s("div",null,[t($,{technicalText:e.TechnicalDay},null,8,["technicalText"]),d(" / ")]),s("div",null,[t($,{technicalText:e.TechnicalMonth},null,8,["technicalText"]),d(" / ")]),s("div",null,[t($,{technicalText:e.TechnicalWeek},null,8,["technicalText"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})],64)}}});export{se as default};
